/*!
 * VERSION: beta 0.3
 * DATE: 2012-08-15
 * JavaScript 
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * Copyright (c) 2008-2012, GreenSock. All rights reserved. 
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * corporate Club GreenSock members, the software agreement that was issued with the corporate 
 * membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(window._gsQueue||(window._gsQueue=[])).push(function(){_gsDefine("plugins.CSSRulePlugin",["plugins.TweenPlugin","TweenLite"],function(r){var l=function(){r.call(this,"cssRule");this._overwriteProps.pop()},m=l.prototype=new r("cssRule");m.constructor=l;l.API=2;l.suffixMap={top:"px",right:"px",bottom:"px",left:"px",width:"px",height:"px",fontSize:"px",padding:"px",margin:"px"};var o=/[^\d\-\.]/g,A=/(\d|\-|\+|=|#|\.)*/g,I=/(\d|\.)+/g,B=/opacity *= *([^)]*)/,J=/([A-Z])/g,K=/(M11|M12|M21|M22)=[\d\-\.e]+/gi, L=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,p=Math.PI/180,s=document.createElement("div"),t;var q=document.createElement("div"),u;q.innerHTML="<a style='top:1px;opacity:.55;'>a</a>";t=(u=q.getElementsByTagName("a")[0])?/^0.55/.test(u.style.opacity):!1;var C=function(c){return!c||""===c?v.black:v[c]?v[c]:"number"===typeof c?[c>>16,c>>8&255,c&255]:"#"===c.charAt(0)?(4===c.length&&(c="#"+c.charAt(1)+c.charAt(1)+c.charAt(2)+c.charAt(2)+c.charAt(3)+c.charAt(3)),c=parseInt(c.substr(1),16),[c>> 16,c>>8&255,c&255]):c.match(I)||v.transparent},D=document.defaultView?document.defaultView.getComputedStyle:function(){},E=function(c,a,e,b){return!t&&"opacity"===a?B.test("string"===typeof c?c:(c.currentStyle?c.currentStyle.filter:c.style.filter)||"")?parseFloat(RegExp.$1)/100:1:!b&&c.style[a]?c.style[a]:(e=e||D(c,null))?(c=e.getPropertyValue(a.replace(J,"-$1").toLowerCase()))||e.length?c:e[a]:c.currentStyle?c.currentStyle[a]:null},F={scaleX:1,scaleY:1,x:1,y:1,rotation:1,shortRotation:1,skewX:1, skewY:1,scale:1},G,i;q=document.body||document.documentElement;u=D(q,"");for(var y="O -o- Moz -moz- ms -ms- Webkit -webkit-".split(" "),n=9;-1<(n-=2)&&!E(q,y[n]+"transform",u););0<n?(G=y[n]+"transform",i=y[n-1]+"Transform"):i=null;l.getRule=function(c){var a=document.all?"rules":"cssRules",e=document.styleSheets,b=e.length,f=c.charAt(0)===":",d,g,h,c=(f?"":",")+c+",";for(f&&(h=[]);--b>-1;){g=e[b][a];for(d=g.length;--d>-1;)if((","+g[d].selectorText.split("::").join(":")+",").indexOf(c)!==-1)if(f)h.push(g[d].style); else return g[d].style}return h};var H=function(c,a){s.cssText=c.cssText;var e=c._gsTransform,b;if(i)b=E(s,G,null,true);else if(s.currentStyle)b=(b=s.currentStyle.filter.match(K))&&b.length===4?b[0].substr(4)+","+Number(b[2].substr(4))+","+Number(b[1].substr(4))+","+b[3].substr(4)+","+(e?e.x:0)+","+(e?e.y:0):null;b=(b||"").replace(/[^\d\-\.e,]/g,"").split(",");var f=b.length>=6,d=f?Number(b[0]):1,g=f?Number(b[1]):0,h=f?Number(b[2]):0,j=f?Number(b[3]):1,e=a?e||{skewY:0}:{skewY:0},k=e.scaleX<0;e.x= f?Number(b[4]):0;e.y=f?Number(b[5]):0;e.scaleX=Math.sqrt(d*d+g*g);e.scaleY=Math.sqrt(j*j+h*h);e.rotation=d||g?Math.atan2(g,d):e.rotation||0;e.skewX=h||j?Math.atan2(h,j)+e.rotation:e.skewX||0;if(Math.abs(e.skewX)>Math.PI/2)if(k){e.scaleX=e.scaleX*-1;e.skewX=e.skewX+(e.rotation<=0?Math.PI:-Math.PI);e.rotation=e.rotation+(e.rotation<=0?Math.PI:-Math.PI)}else{e.scaleY=e.scaleY*-1;e.skewX=e.skewX+(e.skewX<=0?Math.PI:-Math.PI)}if(e.rotation<1E-6&&e.rotation>-1E-6&&(d||g))e.rotation=0;if(e.skewX<1E-6&&e.skewX> -1E-6&&(g||h))e.skewX=0;if(a)c._gsTransform=e;return e},z=function(c,a){if(c==null||c===""||c==="auto")c="0 0";var a=a||{},e=c.indexOf("left")!==-1?"0%":c.indexOf("right")!==-1?"100%":c.split(" ")[0],b=c.indexOf("top")!==-1?"0%":c.indexOf("bottom")!==-1?"100%":c.split(" ")[1];b==null?b="0":b==="center"&&(b="50%");e==="center"&&(e="50%");a.oxp=e.indexOf("%")!==-1;a.oyp=b.indexOf("%")!==-1;a.oxr=e.charAt(1)==="=";a.oyr=b.charAt(1)==="=";a.ox=parseFloat(e.replace(o,""));a.oy=parseFloat(b.replace(o,"")); return a},w=function(c,a){return c==null?a:typeof c==="string"&&c.indexOf("=")===1?parseInt(c.charAt(0)+"1")*Number(c.substr(2))+a:Number(c)},x=function(c,a){var e=c.indexOf("rad")===-1?p:1,b=c.indexOf("=")===1,c=Number(c.replace(o,""))*e;return b?c+a:c},v={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128], purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]};m._onInitTween=function(c,a,e){this._style=c;this._tween=e;this._transform=null;this._parseVars(a,c,a.suffixMap||l.suffixMap);return true};m._parseVars=function(c,a,e){var b,f,d,g,h,j,k;for(b in c){f=c[b];if(b==="transform"||b===i)this._parseTransform(a,f,e);else if(F[b]||b==="transformOrigin")this._parseTransform(a,c,e);else{if(b==="alpha"||b==="autoAlpha")b="opacity";else if(b==="margin"|| b==="padding"){f=(f+"").split(" ");g=f.length;d={};d[b+"Top"]=f[0];d[b+"Right"]=g>1?f[1]:f[0];d[b+"Bottom"]=g===4?f[2]:f[0];d[b+"Left"]=g===4?f[3]:g===2?f[1]:f[0];this._parseVars(d,a,e);continue}else if(b==="backgroundPosition"||b==="backgroundSize"){d=z(f);k=z(g=a[b]||"50% 50%");this._firstPT=d={_next:this._firstPT,t:a,p:b,b:g,f:false,n:"css_"+b,type:3,s:k.ox,c:d.oxr?d.ox:d.ox-k.ox,ys:k.oy,yc:d.oyr?d.oy:d.oy-k.oy,sfx:d.oxp?"%":"px",ysfx:d.oyp?"%":"px",r:!d.oxp&&c.autoRound!==false};d.e=d.s+d.c+d.sfx+ " "+(d.ys+d.yc)+d.ysfx;continue}else if(b==="border"){f=(f+"").split(" ");this._parseVars({borderWidth:f[0],borderStyle:f[1]||"none",borderColor:f[2]||"#000000"},a,e);continue}else if(b==="autoRound")continue;g=a[b];g=g!=null?g+"":"";this._firstPT=d={_next:this._firstPT,t:a,p:b,b:g,f:false,n:"css_"+b,sfx:"",r:false,type:0};if(b==="opacity"&&c.autoAlpha!=null){this._firstPT=d._prev={_next:d,t:a,p:"visibility",f:false,n:"css_visibility",r:false,type:-1,b:Number(g)!==0?"visible":"hidden",i:"visible", e:Number(f)===0?"hidden":"visible"};this._overwriteProps.push("css_visibility")}if(b==="color"||b==="fill"||b==="stroke"||b.indexOf("Color")!==-1||typeof f==="string"&&!f.indexOf("rgb(")){h=C(g);f=C(f);d.e=d.i=(f.length>3?"rgba(":"rgb(")+f.join(",")+")";d.b=(h.length>3?"rgba(":"rgb(")+h.join(",")+")";d.s=Number(h[0]);d.c=Number(f[0])-d.s;d.gs=Number(h[1]);d.gc=Number(f[1])-d.gs;d.bs=Number(h[2]);d.bc=Number(f[2])-d.bs;d.type=1;if(h.length>3||f.length>3)if(t){d.as=h.length<4?1:Number(h[3]);d.ac=(f.length< 4?1:Number(f[3]))-d.as;d.type=2}else{if(f[3]==0){d.e=d.i="transparent";d.type=-1}if(h[3]==0)d.b="transparent"}}else{h=g.replace(A,"");k=g===""||g==="auto"?b!=="opacity"?0:1:g.indexOf(" ")===-1?parseFloat(g.replace(o,"")):NaN;if(typeof f==="string"){g=f.charAt(1)==="=";j=f.replace(A,"");f=f.indexOf(" ")===-1?parseFloat(f.replace(o,"")):NaN}else{g=false;j=""}j===""&&(j=e[b]||h);d.e=f||f===0?(g?f+k:f)+j:c[b];if(h!==j&&j!==""&&(f||f===0))if(k||k===0)throw"CSSRulePlugin error: starting and ending units don't match on tween of "+ b+" ("+h+" vs "+j+")";if((k||k===0)&&(f||f===0)&&(d.c=g?f:f-k)){d.s=k;d.sfx=j;if(b==="opacity"){if(!t){d.type=4;d.p="filter";d.b="alpha(opacity="+d.s*100+")";d.e="alpha(opacity="+(d.s+d.c)*100+")";d.dup=c.autoAlpha!=null;this._style.zoom=1}}else if(c.autoRound!==false&&(j==="px"||b==="zIndex"))d.r=true}else{d.type=-1;d.i=b==="display"&&d.e==="none"?d.b:d.e;d.s=d.c=0}}this._overwriteProps.push("css_"+b);if(d._next)d._next._prev=d}}};m._parseTransform=function(c,a){if(!this._transform){var e=this._transform= H(c,true),b,f,d;if(typeof a==="object"){b={scaleX:w(a.scaleX!=null?a.scaleX:a.scale,e.scaleX),scaleY:w(a.scaleY!=null?a.scaleY:a.scale,e.scaleY),x:w(a.x,e.x),y:w(a.y,e.y)};if(a.shortRotation!=null){b.rotation=typeof a.shortRotation==="number"?a.shortRotation*p:x(a.shortRotation,e.rotation);f=(b.rotation-e.rotation)%(Math.PI*2);f!==f%Math.PI&&(f=f+Math.PI*(f<0?2:-2));b.rotation=e.rotation+f}else b.rotation=a.rotation==null?e.rotation:typeof a.rotation==="number"?a.rotation*p:x(a.rotation,e.rotation); b.skewX=a.skewX==null?e.skewX:typeof a.skewX==="number"?a.skewX*p:x(a.skewX,e.skewX);b.skewY=a.skewY==null?e.skewY:typeof a.skewY==="number"?a.skewY*p:x(a.skewY,e.skewY);if(f=b.skewY-e.skewY){b.skewX=b.skewX+f;b.rotation=b.rotation+f}if(b.skewY<1E-6&&b.skewY>-1E-6)b.skewY=0;if(b.skewX<1E-6&&b.skewX>-1E-6)b.skewX=0;if(b.rotation<1E-6&&b.rotation>-1E-6)b.rotation=0;if((f=a.transformOrigin)!=null)if(i){d=i+"Origin";this._firstPT=f={_next:this._firstPT,t:c,p:d,s:0,c:0,n:d,f:false,r:false,b:c[d],e:f,i:f, type:-1,sfx:""};if(f._next)f._next._prev=f}else z(f,e)}else if(typeof a==="string"&&i){f=c[i];c[i]=a;b=H(c,false);c[i]=f}else return;i?i==="WebkitTransform"&&(c[i+"Style"]="preserve-3d"):c.zoom=1;for(d in F)if(e[d]!==b[d]&&d!=="shortRotation"&&d!=="scale"){this._firstPT=f={_next:this._firstPT,t:e,p:d,s:e[d],c:b[d]-e[d],n:d,f:false,r:false,b:e[d],e:b[d],type:0,sfx:0};if(f._next)f._next._prev=f;this._overwriteProps.push("css_"+d)}}};m.setRatio=function(c){var a=this._firstPT,e=1E-6,b,f;if(c===1&&(this._tween._time=== this._tween._duration||this._tween._time===0))for(;a;){a.t[a.p]=a.e;a=a._next}else if(c||!(this._tween._time===this._tween._duration||this._tween._time===0))for(;a;){b=a.c*c+a.s;a.r?b=b>0?b+0.5>>0:b-0.5>>0:b<e&&b>-e&&(b=0);if(a.type)if(a.type===1)a.t[a.p]="rgb("+(b>>0)+", "+(a.gs+c*a.gc>>0)+", "+(a.bs+c*a.bc>>0)+")";else if(a.type===2)a.t[a.p]="rgba("+(b>>0)+", "+(a.gs+c*a.gc>>0)+", "+(a.bs+c*a.bc>>0)+", "+(a.as+c*a.ac)+")";else if(a.type===-1)a.t[a.p]=a.i;else if(a.type===3){f=a.ys+c*a.yc;a.r&&(f= f>0?f+0.5>>0:f-0.5>>0);a.t[a.p]=b+a.sfx+" "+f+a.ysfx}else{if(a.dup)a.t.filter=a.t.filter||"alpha(opacity=100)";a.t.filter=a.t.filter.indexOf("opacity")===-1?a.t.filter+(" alpha(opacity="+(b*100>>0)+")"):a.t.filter.replace(B,"opacity="+(b*100>>0))}else a.t[a.p]=b+a.sfx;a=a._next}else for(;a;){a.t[a.p]=a.b;a=a._next}if(this._transform){a=this._transform;if(i&&!a.rotation&&!a.skewX)this._style[i]=(a.x||a.y?"translate("+a.x+"px,"+a.y+"px) ":"")+(a.scaleX!==1||a.scaleY!==1?"scale("+a.scaleX+","+a.scaleY+ ")":"")||"translate(0px,0px)";else{b=i?a.rotation:-a.rotation;f=i?b-a.skewX:b+a.skewX;c=Math.cos(b)*a.scaleX;b=Math.sin(b)*a.scaleX;var d=Math.sin(f)*-a.scaleY;f=Math.cos(f)*a.scaleY;c<e&&c>-e&&(c=0);b<e&&b>-e&&(b=0);d<e&&d>-e&&(d=0);f<e&&f>-e&&(f=0);if(i)this._style[i]="matrix("+c+","+b+","+d+","+f+","+a.x+","+a.y+")";else{e=b;b=-d;a=this._style.filter;this._style.filter="";e="progid:DXImageTransform.Microsoft.Matrix(M11="+c+", M12="+b+", M21="+-e+", M22="+f+",sizingMethod='auto expand')";this._style.filter= a.indexOf("progid:DXImageTransform.Microsoft.Matrix(")!==-1?a.replace(L,e):a+" "+e}}}};m._kill=function(c){var a=c,e;if(c.autoAlpha||c.alpha){a={};for(e in c)a[e]=c[e];a.opacity=1;if(a.autoAlpha)a.visibility=1}return r.prototype._kill.call(this,a)};r.activate([l]);return l},!0)});window._gsDefine&&_gsQueue.pop()();